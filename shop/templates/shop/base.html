{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="Content-type" content="text/html; charset=utf-8; width=device-width; initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<title>{% block title %}Default title{% endblock title %}</title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="{% static 'css/garden_store.css' %}">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body data-theme="color">
	<div class="wrapper">
		<header>
			<article class="menu">
				<section class="menu-section">
					<img src="{% static 'img/main_logo.jpg' %}" alt="logo" width="100">
					<a style="width: 300px;" href="/">Интернет-магазин</a>
					<form method="get" action="{% url 'shop:product_list' %}">
						<div class="header-form">
							<input type="text" name="query" placeholder="Поиск..." required>
						</div>
					</form>
				</section>
				<section class="menu-section" style="justify-content: end;">
					<a href="/" title="Главная страница">Главная</a>
					<a href="/registration" title="Вход">Вход</a>
					<a class="menu-inside-show" href="/profil" title="Профиль">Профиль</a>
					<div class="menu-inside">
						<a href="/cart" title="Корзина">Корзина</a>
						<a href="/order" title="Заказы">Заказы</a>
					</div>
				</section>
			</article>
		</header>
		<main>
			{% block content %}
			
			{% endblock %}
		</main>
		<footer>
			<p>Телефон: +12345677890</p>
			<p>Email: admin@admin.com</p>
		</footer>
	</div>
	{% if messages %}
	<div class="toast-container position-fixed bottom-0 end-0 p-3 z-index-1050">
		{% for message in messages %}
			<div class="toast d-flex align-items-center text-white bg-{{ message.tags }} border-0 show" role="alert" aria-live="assertive" aria-atomic="true">
				<div class="toast-body">{{ message }}</div>
				<button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
			</div>
		{% endfor %}
	</div>
	{% endif %}
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			let toasts = document.querySelectorAll(".toast");
			toasts.forEach((alert) => {
				setTimeout(() => {
					toast.classList.remove("show"); // Скроет Bootstrap-уведомление
					setTimeout(() => toast.remove(), 500); // Полностью удалит из DOM
				}, 3000);
			});
		});
	</script>	
</body>
</html>